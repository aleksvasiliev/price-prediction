# BTC 10s Guess ‚Äî –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è v2 (Mobile-first, Web3-only)

## 0) –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
–ö–∞–∑—É–∞–ª—å–Ω–∞—è –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è –∏–≥—Ä–∞: —É–≥–∞–¥–∞–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã BTC —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥. –ú–æ–±–∏–ª—å–Ω—ã–π-–ø–µ—Ä–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –ò–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å –∫–∞–∫ –≥–æ—Å—Ç—å –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª—ë–∫ –ø–æ–∑–∂–µ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—á–∫–æ–≤. –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ CSV. –õ–∏–¥–µ—Ä–±–æ—Ä–¥ ‚Äî —Ç–æ–ø-10 –∫–æ—à–µ–ª—å–∫–æ–≤ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–∞.

---

## 1) –ò–≥—Ä–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞
- **–†–∞—É–Ω–¥:** —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª–∏–Ω–∞ 10 —Å–µ–∫—É–Ω–¥.
- **–ó–∞–¥–∞—á–∞:** –≤—ã–±—Ä–∞—Ç—å UP –∏–ª–∏ DOWN –¥–æ –∫–æ–Ω—Ü–∞ —Ç–∞–π–º–µ—Ä–∞.
- **–ì—Ä–∞—Ñ–∏–∫:** —Å–µ–∫—É–Ω–¥–Ω—ã–µ —Å–≤–µ—á–∏, –æ–∫–Ω–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 60 —Å–µ–∫—É–Ω–¥.
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 
  - –ü–æ–±–µ–¥–∞: P1 > P0 –ø—Ä–∏ –≤—ã–±–æ—Ä–µ UP –∏–ª–∏ P1 < P0 –ø—Ä–∏ –≤—ã–±–æ—Ä–µ DOWN.
  - –ü–æ—Ä–∞–∂–µ–Ω–∏–µ: –≤—ã–±–æ—Ä –Ω–µ–≤–µ—Ä–µ–Ω.
  - –ù–∏—á—å—è: P1 == P0.
- **–û—á–∫–∏:** –ø–æ–±–µ–¥–∞ +10, –ø–æ—Ä–∞–∂–µ–Ω–∏–µ 0; –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π streak-–±–æ–Ω—É—Å.
- **–í—ã—Ö–æ–¥:** –∫–Ω–æ–ø–∫–∞ ¬´–í—ã–π—Ç–∏/–ó–∞–∫–æ–Ω—á–∏—Ç—å¬ª —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º.

---

## 2) –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –≤—Ö–æ–¥
- **–†–µ–∂–∏–º –≥–æ—Å—Ç—è:** –±–µ–∑ –ª–æ–≥–∏–Ω–∞, –æ—á–∫–∏ –≤ —Å–µ—Å—Å–∏–∏.
- **Web3-–ª–æ–≥–∏–Ω:** MetaMask –∏ WalletConnect, —Ç–æ–ª—å–∫–æ –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞.
- **–ü—Ä–æ—Ü–µ—Å—Å –ª–æ–≥–∏–Ω–∞:** Sign-In with Ethereum (EIP-4361, SIWE), –ø–æ–¥–ø–∏—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è –±–µ–∑ –≥–∞–∑–∞.
- **–ú–µ—Ä–¥–∂ –æ—á–∫–æ–≤:** –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ –≥–æ—Å—Ç–µ–≤—ã–µ –æ—á–∫–∏ —Å—É–º–º–∏—Ä—É—é—Ç—Å—è —Å –∫–æ—à–µ–ª—å–∫–æ–≤—ã–º–∏.
- **Telegram:** –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å @username –Ω–∞ 10-–º —Ä–∞—É–Ω–¥–µ –∏–ª–∏ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ.

---

## 3) –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### –≠–∫—Ä–∞–Ω –∏–≥—Ä—ã
- –í–µ—Ä—Ö: –æ—á–∫–∏, —Å–æ–∫—Ä–∞—â—ë–Ω–Ω—ã–π –∞–¥—Ä–µ—Å –∏–ª–∏ ¬´–ì–æ—Å—Ç—å¬ª, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–∑–≤—É–∫), –∫–Ω–æ–ø–∫–∞ ¬´–í—ã–π—Ç–∏¬ª.
- –¶–µ–Ω—Ç—Ä: —Å–µ–∫—É–Ω–¥–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ (60s), —Ç–∞–π–º–µ—Ä 10‚Üí0.
- –ù–∏–∑: –∫–Ω–æ–ø–∫–∏ ¬´üìà UP¬ª (–∑–µ–ª—ë–Ω–∞—è) –∏ ¬´üìâ DOWN¬ª (–∫—Ä–∞—Å–Ω–∞—è).
- –°—Ç–∞—Ç—É—Å—ã: –≤—ã–±–æ—Ä, –æ–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞, –ø–æ–±–µ–¥–∞/–ø–æ—Ä–∞–∂–µ–Ω–∏–µ/–Ω–∏—á—å—è.
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –≥–æ—Å—Ç—é –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫–æ—à–µ–ª—å–∫–∞.

### –õ–∏–¥–µ—Ä–±–æ—Ä–¥
- –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–ø-10: `# | wallet(short) | points`.
- –í–Ω–∏–∑—É: ¬´–í–∞—à–µ –º–µ—Å—Ç–æ: #X ‚Äî N –æ—á–∫–æ–≤¬ª (–ø–æ–¥—Å–≤–µ—á–µ–Ω–æ, –µ—Å–ª–∏ –≤–Ω–µ —Ç–æ–ø–∞).
- –ö–Ω–æ–ø–∫–∞ ¬´–ù–∞–∑–∞–¥¬ª –∫ –∏–≥—Ä–µ.

### –ú–æ–¥–∞–ª—ã
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞ (—Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º –ø—Ä–æ –ø–æ–¥–ø–∏—Å—å –±–µ–∑ –≥–∞–∑–∞).
- –í–≤–æ–¥ Telegram-–Ω–∏–∫–∞.
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–∞.

---

## 4) –ì—Ä–∞—Ñ–∏–∫–∞ –∏ –∑–≤—É–∫
- **–°—Ç–∏–ª—å:** –∫–∞–∑—É–∞–ª—å–Ω—ã–π, —è—Ä–∫–∏–π, –∫—Ä—É–ø–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –º—è–≥–∫–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏.
- **–ó–≤—É–∫–∏ (WebAudio):**
  - –ü–æ–±–µ–¥–∞: –∫–æ—Ä–æ—Ç–∫–∏–π –º–∞–∂–æ—Ä–Ω—ã–π –∞—Ä–ø–µ–¥–∂–∏–æ.
  - –ü–æ—Ä–∞–∂–µ–Ω–∏–µ: –ø–æ–Ω–∏–∂–∞—é—â–∏–π ¬´–ø—É—Ö¬ª.
  - –¢–∞–π–º–µ—Ä: ¬´—Ç–∏–∫¬ª –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 3 —Å–µ–∫—É–Ω–¥–∞—Ö.
- **–ê–Ω–∏–º–∞—Ü–∏–∏ (CSS/Framer/Lottie):**
  - Bounce –∫–Ω–æ–ø–æ–∫ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏.
  - –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ –ø—Ä–∏ –ø–æ–±–µ–¥–µ, —Ç—Ä—è—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏ –ø—Ä–æ–∏–≥—Ä—ã—à–µ.
  - –ö–æ–ª—å—Ü–µ–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Ç–∞–π–º–µ—Ä–∞ (SVG).

---

## 5) –ò—Å—Ç–æ—á–Ω–∏–∫ —Ü–µ–Ω—ã –∏ —Ç–∞–π–º–∏–Ω–≥
- **–§–∏–¥:** WebSocket (–±–∏—Ä–∂–∞) —Å fallback –Ω–∞ REST-–ø—É–ª–ª–∏–Ω–≥.
- **–¢–∞–π–º–∏–Ω–≥:** —Ä–∞—É–Ω–¥—ã –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥ –ø–æ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —Å–µ—Ç–∫–µ.
- **–ê–Ω—Ç–∏—á–∏—Ç:** –ø—Ä–∏—ë–º —Å—Ç–∞–≤–æ–∫ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∑–∞ 200‚Äì300 –º—Å –¥–æ –∫–æ–Ω—Ü–∞ —Ä–∞—É–Ω–¥–∞.
- **Void:** –ø—Ä–∏ –ª–∞–≥–µ —Ñ–∏–¥–∞ > 2s —Ä–∞—É–Ω–¥ –∞–Ω–Ω—É–ª–∏—Ä—É–µ—Ç—Å—è.

---

## 6) –•—Ä–∞–Ω–∏–ª–∏—â–µ (CSV)
- **players.csv:** `wallet,points,telegram_handle`.
- **sessions.csv:** `session_id,temp_points,created_at,last_seen,is_guest`.
- **rounds.csv:** `timestamp,round_id,identity,choice,p0,p1,result,latency_ms`.
- **–ü—Ä–∞–≤–∏–ª–∞:** append-only, —Ñ–∞–π–ª–æ–≤–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ –∑–∞–ø–∏—Å—å, –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–∞–∫—Ü–∏—è.

---

## 7) –°–æ–±—ã—Ç–∏—è (WebSocket)
- `ROUND_START { round_id, p0, server_ts_close }`
- `CHOICE_SUBMIT { round_id, choice, client_ts }` ‚Üí `ACK`
- `ROUND_RESULT { round_id, p1, result, delta, total_points }`
- `LEADERBOARD { top10, your_rank, your_points }`
- `WALLET_CONNECTED { wallet, total_points }`
- `ASK_TELEGRAM { reason }`

---

## 8) API
- `GET /auth/nonce` ‚Üí –≤—ã–¥–∞—ë—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã SIWE.
- `POST /auth/verify` ‚Üí –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∏, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Å—Å–∏–∏.
- `GET /leaderboard` ‚Üí —Ç–æ–ø-10 –∏ –ø–æ–∑–∏—Ü–∏—è –∏–≥—Ä–æ–∫–∞.
- `POST /telegram/link` ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ Telegram-–Ω–∏–∫–∞.
- `POST /choice` ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤—ã–±–æ—Ä–∞ (fallback –±–µ–∑ WS).
- `GET /state` ‚Üí —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã.

---

## 9) MetaMask –∏–∑ Safari
- –ö–Ω–æ–ø–∫–∞ ¬´Connect with MetaMask¬ª –≤—ã–∑—ã–≤–∞–µ—Ç MetaMask SDK.
- Deeplink –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç MetaMask, –∑–∞–ø—Ä–æ—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –ø–æ–¥–ø–∏—Å–∏ SIWE.
- MetaMask –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ Safari (universal link) —Å –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–µ–π.
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ MetaMask ‚Äî –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–ª–∏ –≤—ã–±–æ—Ä WalletConnect.

---

## 10) Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –°–±–æ—Ä @username –≤ –º–æ–¥–∞–ª–µ.
- –†–∞–∑ –≤ —á–∞—Å —Å–µ—Ä–≤–µ—Ä —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏–∏, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–º–µ–Ω–µ –º–µ—Å—Ç–∞ –∏–ª–∏ –≤—Ö–æ–¥–µ/–≤—ã—Ö–æ–¥–µ –∏–∑ —Ç–æ–ø–∞.

---

## 11) –ê–Ω—Ç–∏—á–∏—Ç
- –°–µ—Ä–≤–µ—Ä —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç P0/P1 –∏ –¥–µ–¥–ª–∞–π–Ω—ã.
- –ü—Ä–∏—ë–º —Å—Ç–∞–≤–æ–∫ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∑–∞—Ä–∞–Ω–µ–µ.
- –õ–æ–≥–∏ —Ä–∞—É–Ω–¥–æ–≤ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–ª—è –∞—É–¥–∏—Ç–∞.
- –†–∞—É–Ω–¥—ã —Å –ª–∞–≥–æ–º >2s –∞–Ω–Ω—É–ª–∏—Ä—É—é—Ç—Å—è.

---

## 12) –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Front:** React + Vite, TailwindCSS, Framer Motion, SVG/Canvas –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞, WebAudio API.
- **Back:** Node.js (Fastify), WebSocket, CSV —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π.
- **Web3:** MetaMask SDK, WalletConnect v2.
- **–•–æ—Å—Ç–∏–Ω–≥:** Vercel/Netlify (front), VPS/Render/Fly (back).
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏:** NTP –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

---

## 13) –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è
1. –°–∫–µ–ª–µ—Ç —Ñ—Ä–æ–Ω—Ç–∞: —ç–∫—Ä–∞–Ω –∏–≥—Ä—ã, –∫–Ω–æ–ø–∫–∏, —Ç–∞–π–º–µ—Ä, —á–∞—Ä—Ç-–∑–∞–≥–æ—Ç–æ–≤–∫–∞.
2. –°–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ç–∏–∫–∏ + —Ñ–∏–∫—Å–∞—Ü–∏—è P0/P1 + –∑–∞–≥–ª—É—à–∫–∞ —Ü–µ–Ω—ã.
3. WS-—Å–æ–±—ã—Ç–∏—è + –ª–æ–≥–∏–∫–∞ –æ—á–∫–æ–≤.
4. CSV-–∑–∞–ø–∏—Å—å, –ª–∏–¥–µ—Ä–±–æ—Ä–¥, –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –º–µ—Å—Ç–∞.
5. –†–µ–∞–ª—å–Ω—ã–π —Ñ–∏–¥ —Ü–µ–Ω—ã, –∞–Ω—Ç–∏—á–∏—Ç-–±—É—Ñ–µ—Ä.
6. SIWE-–ª–æ–≥–∏–Ω —á–µ—Ä–µ–∑ MetaMask SDK, –º–µ—Ä–¥–∂ –≥–æ—Å—Ç—è.
7. –ê—É–¥–∏–æ/–∞–Ω–∏–º–∞—Ü–∏–∏, –∫–Ω–æ–ø–∫–∞ ¬´–í—ã–π—Ç–∏¬ª, –º–æ–¥–∞–ª—ã.
8. Telegram-–ª–∏–Ω–∫ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–ø–æ –∂–µ–ª–∞–Ω–∏—é).